<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>The World Through Film</title>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@500;700&family=Josefin+Sans:wght@400;600&family=Manrope:wght@400;600&display=swap" rel="stylesheet">

  <!-- Vega Libraries -->
  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>

  <style>
    body {
      font-family: "Manrope", sans-serif;
      background-color: #fafafa;
      margin: 0;
      padding: 20px;
      color: #4d2e00;
      overflow-x: hidden;
    }

    .page-wrapper {
      max-width: 1100px;
      margin: 0 auto;
      padding: 40px;
      background: linear-gradient(180deg, #fdf2e9 0%, #ffe5cc 100%);
      border-radius: 16px;
      box-shadow: 0 8px 24px rgba(0,0,0,0.08);
    }

    h1 {
      font-family: "Cinzel", serif;
      font-weight: 700;
      font-size: 3.8em;
      text-transform: uppercase;
      letter-spacing: 2px;
      text-align: center;
      background: linear-gradient(90deg, #b11226, #ff8c1a);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-shadow: 2px 2px 6px rgba(0,0,0,0.15);
      opacity: 0;
      animation: fadeInTitle 1.8s ease-out forwards;
      animation-delay: 0.5s;
      position: relative;
    }

    h1::after {
      content: "";
      display: block;
      width: 900px;
      height: 4px;
      background: #ff8c1a;
      margin: 12px auto 0 auto;
      border-radius: 2px;
    }

    @keyframes fadeInTitle {
      0% { opacity: 0; transform: translateY(-20px); }
      100% { opacity: 1; transform: translateY(0); }
    }

    h2 {
      font-family: "Josefin Sans", sans-serif;
      font-weight: 600;
      font-size: 1.25em;
      color: #8b2d00;
      margin-bottom: 12px;
      letter-spacing: 0.5px;
    }

    p {
      font-family: "Manrope", sans-serif;
      font-size: 1em;
      line-height: 1.6em;
      color: #4d2e00;
      margin: 0;
    }

    .section, .pair-container {
      display: flex;
      flex-wrap: nowrap;
      justify-content: space-between;
      align-items: center;
      gap: 24px;
      margin-bottom: 80px;
      clear: both;
      position: relative;
    }

    .chart-container {
      background-color: white;
      border-radius: 12px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.08);
      flex: 1 1 60%;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 440px;
      min-height: 440px;
      max-height: 440px;
      padding: 20px;
      transition: transform 0.2s, box-shadow 0.2s;
    }

    .chart-container:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 28px rgba(0,0,0,0.12);
    }

    .bubble-container {
      height: 500px;
      min-height: 500px;
      max-height: 600px;
    }

    .text-container {
      flex: 1 1 35%;
      display: flex;
      flex-direction: column;
      justify-content: center;
      max-width: 340px;
      text-align: left;
      font-size: 1.05em;
      line-height: 1.6em;
      padding: 10px;
    }

    .map-container {
      width: 100%;
      height: 500px;
    }

    .map-text-container {
      max-width: 800px;
      text-align: center;
      font-size: 1.05em;
      margin-top: 20px;
      margin-left: auto;
      margin-right: auto;
    }

    .metadata {
      margin-top: 60px;
      font-size: 0.9em;
      color: #5c3a00;
      border-top: 1px solid #e6c7a0;
      padding-top: 20px;
      line-height: 1.5em;
    }

    .metadata a {
      color: #b11226;
      text-decoration: none;
    }

    @media(max-width: 1000px) {
      body { padding: 15px; }
      .page-wrapper { padding: 20px; }

      .section, .pair-container {
        flex-direction: column;
        align-items: center;
        max-width: 95%;
      }

      .text-container {
        max-width: 95%;
        text-align: center;
        justify-content: flex-start;
      }

      .chart-container {
        flex: 1 1 90%;
        max-width: 90%;
        height: 400px;
        min-height: 400px;
      }
    }

    #netflix_map, #release_donut, #release_line, 
    #heatmap, #bar_line_chart, #bubble_plot, #timeline {
      width: 100%;
      height: 100%;
    }

    .vega-embed {
      width: 100% !important;
      height: 100% !important;
    }
  </style>
</head>

<body>
  <div class="page-wrapper">
    <h1>The World Through Film</h1>

    <!-- MAP SECTION -->
    <div class="section" style="flex-direction: column; align-items: center;">
      <div class="chart-container map-container" id="netflix_map"></div>
      <div class="map-text-container">
        <h2>The World Lights Up</h2>
        <p>From bustling studios in Hollywood to emerging film hubs around the globe, movies have brought stories to every corner of the world. Witness how cinema has grown internationally over the decades.</p>
      </div>
    </div>

    <!-- LINE SECTION -->
    <div class="section">
      <div class="chart-container" id="release_line"></div>
      <div class="text-container">
        <h2>A Changing Stage</h2>
        <p>Streaming transformed storytelling. Some years brought a surge of films, others introduced waves of TV shows, reflecting shifting audience tastes and the rise of new formats.</p>
      </div>
    </div>

    <!-- DONUT SECTION -->
    <div class="section">
      <div class="chart-container" id="release_donut"></div>
      <div class="text-container">
        <h2>Decades of Dreams</h2>
        <p>Step through time and see how storytelling evolved, from the classic tales before the 1980s to today’s rapid-fire streaming productions. Each era brought its own flavor and innovation.</p>
      </div>
    </div>

    <!-- HEATMAP SECTION -->
    <div class="section">
      <div class="chart-container" id="heatmap"></div>
      <div class="text-container">
        <h2>The Heartbeat of Genres</h2>
        <p>Some stories resonate universally, while others capture niche passions. Across the decades, shifting social values, technology, and audience moods have reshaped what we love to watch.</p>
      </div>
    </div>

    <!-- BARLINE SECTION -->
    <div class="section">
      <div class="text-container">
        <h2>Success and Acclaim</h2>
        <p>Not every film that earns money becomes a classic, and not every critically acclaimed piece draws crowds. This chart highlights the delicate dance between commercial success and artistic recognition.</p>
      </div>
      <div class="chart-container" id="bar_line_chart"></div>
    </div>

    <!-- BUBBLE SECTION -->
    <div class="section">
      <div class="text-container">
        <h2>Voices of the Audience</h2>
        <p>Popularity and ratings often tell different stories. Some films capture hearts without critical praise, while others are celebrated by critics yet reach a niche audience. This view brings those contrasts to life.</p>
      </div>
      <div class="chart-container bubble-container" id="bubble_plot"></div>
    </div>

    <!-- TIMELINE SECTION -->
    <div class="section">
      <div class="text-container">
        <h2>The Era of Top Directors</h2>
        <p>From Spielberg’s early classics to Nolan’s modern masterpieces and the Russo brothers’ blockbuster spectacles, these directors have shaped cinema over decades. Watching this timeline, we see how each director evolved, experimented, and left an indelible mark on audiences worldwide.</p>
      </div>
      <div class="chart-container" id="timeline"></div>
    </div>

    <!-- METADATA SECTION -->
    <div class="metadata">
      <p><strong>Author:</strong> Lim Zhong Yuan</p>
      <p><strong>Date Published:</strong> 18 Oct 2025</p>
      <p><strong>Sources:</strong><br>
        <a href="http://reddit.com/r/datasets/comments/1ecj6m2/dataset_for_rotten_tomatoes_movies_1970_2024/" target="_blank">Reddit Movies Dataset</a><br>
        <a href="https://www.kaggle.com/datasets/harshitshankhdhar/imdb-dataset-of-top-1000-movies-and-tv-shows" target="_blank">IMDb Top 1000 Movies Dataset</a><br>
        <a href="https://www.kaggle.com/datasets/shivamb/netflix-shows?select=netflix_titles.csv" target="_blank">Netflix Titles Dataset</a>
      </p>
    </div>

  </div>

  <script>
    const charts = {
      "#netflix_map": "map.vg.json",
      "#release_line": "line_graph.vg.json",
      "#release_donut": "donut_chart.vg.json",
      "#heatmap": "heatmap.vg.json",
      "#bar_line_chart": "bar_line_chart.json",
      "#bubble_plot": "bubble_plot.vg.json",
      "#timeline": "timeline.vg.json"
    };

    const configOverrides = {
      config: {
        view: { stroke: "transparent", fill: "#fff" },
        title: { font: "Manrope", fontSize: 18, color: "#b11226" },
        axis: { labelFont: "Manrope", titleFont: "Manrope", labelFontSize: 12, titleFontSize: 14, labelColor: "#4d2e00", titleColor: "#4d2e00" },
        legend: { labelFont: "Manrope", titleFont: "Manrope" },
        text: { font: "Manrope", fontSize: 12, color: "#4d2e00" }
      }
    };

    for (const [id, specFile] of Object.entries(charts)) {
      fetch(specFile)
        .then(resp => resp.json())
        .then(spec => {
          spec.config = { ...(spec.config || {}), ...configOverrides.config };
          vegaEmbed(id, spec);
        })
        .catch(err => {
          document.querySelector(id).innerHTML = "<p>Failed to load chart</p>";
          console.error(err);
        });
    }
  </script>
</body>
</html>
